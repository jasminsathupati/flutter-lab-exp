import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      title: 'Periodic Table Explorer',
      theme: ThemeData(
        primarySwatch: Colors.teal,
        useMaterial3: true,
      ),
      home: const PeriodicTableExplorer(),
    );
  }
}

class PeriodicTableExplorer extends StatefulWidget {
  const PeriodicTableExplorer({super.key});

  @override
  State<PeriodicTableExplorer> createState() => _PeriodicTableExplorerState();
}

class _PeriodicTableExplorerState extends State<PeriodicTableExplorer> {
  final List<Map<String, dynamic>> elements = [
    {"name": "Hydrogen", "symbol": "H", "number": 1, "category": "Non-metal", "color": Colors.blueAccent},
    {"name": "Helium", "symbol": "He", "number": 2, "category": "Noble Gas", "color": Colors.pinkAccent},
    {"name": "Lithium", "symbol": "Li", "number": 3, "category": "Alkali Metal", "color": Colors.redAccent},
    {"name": "Beryllium", "symbol": "Be", "number": 4, "category": "Alkaline Earth Metal", "color": Colors.green},
    {"name": "Boron", "symbol": "B", "number": 5, "category": "Metalloid", "color": Colors.purple},
    {"name": "Carbon", "symbol": "C", "number": 6, "category": "Non-metal", "color": Colors.cyan},
    {"name": "Nitrogen", "symbol": "N", "number": 7, "category": "Non-metal", "color": Colors.indigo},
    {"name": "Oxygen", "symbol": "O", "number": 8, "category": "Non-metal", "color": Colors.red},
    {"name": "Fluorine", "symbol": "F", "number": 9, "category": "Halogen", "color": Colors.orange},
    {"name": "Neon", "symbol": "Ne", "number": 10, "category": "Noble Gas", "color": Colors.lightGreen},
    {"name": "Sodium", "symbol": "Na", "number": 11, "category": "Alkali Metal", "color": Colors.teal},
    {"name": "Magnesium", "symbol": "Mg", "number": 12, "category": "Alkaline Earth Metal", "color": Colors.lime},
    {"name": "Aluminium", "symbol": "Al", "number": 13, "category": "Post-transition Metal", "color": Colors.brown},
    {"name": "Silicon", "symbol": "Si", "number": 14, "category": "Metalloid", "color": Colors.amber},
    {"name": "Phosphorus", "symbol": "P", "number": 15, "category": "Non-metal", "color": Colors.deepPurple},
  ];

  String searchQuery = "";

  @override
  Widget build(BuildContext context) {
    List<Map<String, dynamic>> filteredElements = elements
        .where((element) =>
            element['name'].toLowerCase().contains(searchQuery.toLowerCase()) ||
            element['symbol'].toLowerCase().contains(searchQuery.toLowerCase()))
        .toList();

    return Scaffold(
      appBar: AppBar(
        title: const Text("Periodic Table Explorer",
            style: TextStyle(fontSize: 22, fontWeight: FontWeight.bold)),
        centerTitle: true,
        backgroundColor: Colors.teal,
      ),
      body: Container(
        decoration: const BoxDecoration(
          gradient: LinearGradient(
            colors: [Colors.white, Color(0xFFDFF6F0)],
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
          ),
        ),
        child: Column(
          children: [
            // ðŸ” Search Bar
            Padding(
              padding: const EdgeInsets.all(12.0),
              child: TextField(
                onChanged: (value) {
                  setState(() {
                    searchQuery = value;
                  });
                },
                decoration: InputDecoration(
                  hintText: "Search element...",
                  prefixIcon: const Icon(Icons.search),
                  border: OutlineInputBorder(
                    borderRadius: BorderRadius.circular(15),
                  ),
                  filled: true,
                  fillColor: Colors.white,
                ),
              ),
            ),

            // ðŸ§© List of Elements
            Expanded(
              child: ListView.builder(
                itemCount: filteredElements.length,
                itemBuilder: (context, index) {
                  final element = filteredElements[index];
                  return ElementCard(
                    name: element["name"],
                    symbol: element["symbol"],
                    number: element["number"],
                    color: element["color"],
                    category: element["category"],
                  );
                },
              ),
            ),
          ],
        ),
      ),
    );
  }
}

// ðŸŒˆ Custom Widget for Each Element
class ElementCard extends StatelessWidget {
  final String name;
  final String symbol;
  final int number;
  final String category;
  final Color color;

  const ElementCard({
    super.key,
    required this.name,
    required this.symbol,
    required this.number,
    required this.color,
    required this.category,
  });

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: () {
        showDialog(
          context: context,
          builder: (context) => AlertDialog(
            shape:
                RoundedRectangleBorder(borderRadius: BorderRadius.circular(20)),
            title: Text("$name ($symbol)",
                style:
                    const TextStyle(fontSize: 20, fontWeight: FontWeight.bold)),
            content: Text(
              "Atomic Number: $number\nCategory: $category",
              style: const TextStyle(fontSize: 16),
            ),
            actions: [
              TextButton(
                child: const Text("Close"),
                onPressed: () => Navigator.pop(context),
              ),
            ],
          ),
        );
      },
      child: Card(
        margin: const EdgeInsets.symmetric(vertical: 8, horizontal: 12),
        elevation: 6,
        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(15)),
        child: Container(
          padding: const EdgeInsets.all(15),
          decoration: BoxDecoration(
            borderRadius: BorderRadius.circular(15),
            color: color.withOpacity(0.2),
          ),
          child: Row(
            children: [
              CircleAvatar(
                backgroundColor: color,
                radius: 30,
                child: Text(
                  symbol,
                  style: const TextStyle(
                      fontSize: 22,
                      fontWeight: FontWeight.bold,
                      color: Colors.white),
                ),
              ),
              const SizedBox(width: 20),
              Expanded(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(name,
                        style: const TextStyle(
                            fontSize: 20, fontWeight: FontWeight.w600)),
                    const SizedBox(height: 4),
                    Text("Atomic Number: $number",
                        style:
                            const TextStyle(fontSize: 16, color: Colors.black54)),
                    Text("Category: $category",
                        style:
                            const TextStyle(fontSize: 15, color: Colors.teal)),
                  ],
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
